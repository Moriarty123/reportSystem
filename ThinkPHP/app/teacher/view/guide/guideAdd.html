<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>计算机学院实验报告在线撰写系统</title>
    <link rel="shortcut icon" href="__IMG__/school.ico" />
    
    <link rel="stylesheet" href="__FONTAWESOME__/css/font-awesome.min.css" />
    <link rel="stylesheet" href="__FONTAWESOME__/css/all.css" />
    <link rel="stylesheet" href="__BOOTSTRAP__/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/js/wangEditor/wangEditor.js">

    <script type="text/javascript" src="__JS__/jquery3.2.1.min.js"></script>
    <script type="text/javascript" src="__JS__/index/public.js"></script>

    <link rel="stylesheet" href="__CSS__/index/index.css" />
    <link rel="stylesheet" href="__CSS__/common/common.css" />
    <link rel="stylesheet" href="__CSS__/common/footer.css" />
    <link rel="stylesheet" href="__CSS__/common/menu.css">
    <link rel="stylesheet" href="__CSS__/common/detail.css">
    <link rel="stylesheet" href="__CSS__/teacher/guide.css" />
    <link rel="stylesheet" href="__CSS__/teacher/display.css" />
</head>
<body>
    <!-- 头部开始-->
    {include file="../app/common/view/html/header.html"}
    <!-- 头部结束-->

    <!-- 左边菜单开始-->
    {include file="../app/teacher/view/common/menu.html"}
    <!-- 左边菜单结束-->

    <!--课程列表开始-->
    <div id="MainForm">
        <div class="form_boxA">
            <div class="a">
                <h2>撰写实验指导</h2>
            </div>
            <div style="width: 500px; margin-top: 20px;">
                <form action="/teacher/guide/guideAdd" method="post" onsubmit="return checkSubmit()">
                    <div style="margin-left: 20px; margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验指导名称：</label>
                        <input type="text" id="guideName" name="guideName" style="width: 500px; " onblur="checkName();">
                    </div>
                    <div style="margin-left: 20px;margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验目的：</label>
                        <div id="testAim" name="testAim" style="width: 500px; outline:0;">
                        </div>
                        <input type="hidden" id="aim" name="aim" value="">
                    </div>
                    <div style="margin-left: 20px;margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验环境：</label>
                        <div id="testEnvironment" style="width: 500px;">
                        </div>
                        <input type="hidden" id="environment" name="environment" value="">
                    </div>
                    <div style="margin-left: 20px;margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验要求：</label>
                        <div id="testRequest" style="width: 500px;">
                        </div>
                        <input type="hidden" id="request" name="request" value="">
                    </div>
                    <div style="margin-left: 20px;margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验任务：</label>
                        <div id="testTask" style="width: 500px;">
                        </div>
                        <input type="hidden" id="task" name="task" value="">
                    </div>
                    <div style="margin-left: 20px;margin-bottom: 10px;">
                        <label style="font-size: 16px;">实验内容：</label>
                        <div id="testContent" style="width: 500px;">
                        </div>
                        <input type="hidden" id="content" name="content" value="">
                    </div>
                    <div class="ButtonDiv" style="width:100%; height: 30px; line-height: 30px;margin-bottom: 20px;">
                        <input type="submit" class="Button" name="save" value="保存" >
                        <input type="submit" class="Button" name="submit" value="提交" onclick="checkSubmit()">
                    </div>
                </form>
            </div>
            
        </div>
    </div>
    <!--课程列表结束-->

    <!-- 清除浮动 -->
    <div style="clear: both;"></div>

    <!-- 底部开始-->
    {include file="../app/common/view/html/footer.html"}
    <!-- 底部结束-->

</body>
</html>

<!-- 筛选框开始-->
<script type="text/javascript">
    
    $(document).ready(function(){
        $("#submitedFilter").click(function(){
            $("#submitedFilterDiv").slideToggle();
        });
    });
</script>
<!-- 筛选框结束 -->
<!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->
<script type="text/javascript" src="/static/wangEditor-3.1.1/wangEditor.js"></script>
<script type="text/javascript">
    var E = window.wangEditor
    var testAim = new E('#testAim')
    var testEnvironment = new E('#testEnvironment');
    var testTask = new E('#testTask')
    var testContent = new E('#testContent');
    var testRequest = new E('#testRequest')

    testAim.create();
    testEnvironment.create();
    testTask.create();
    testContent.create();
    testRequest.create();

</script>

<script type="text/javascript">
    

    function checkSubmit() {
        
        
        $testAimText = $("#testAim .w-e-text p").html();
        $testEnvironmentText = $("#testEnvironment .w-e-text p").html();

        //&& checkRequest() == true && checkContent() == true && checkTask() == true
        if(checkName() == true && checkAim() == true && checkEnvironment() == true ) {
            // alert('确认提交？');
            return true;
        }
        else {
            return false;
        }


    }

    function checkName() {
        $guideName = $("#guideName").val();

        if($guideName == "") {
            alert("实验指导名称不能为空");
            return false;
        }
        else {
            return true;
        }
    }

    //一般情况下，onblur事件只在input等元素中才有，而div却没有，因为div没有tabindex属性，所以要给div加上此属性。定义tabindex属性后，元素是默认会加上焦点虚线的，那么在IE中可以通过hidefocus="true"去除！其他浏览器通过outline=0进行去除！
    function checkAim() {
        $testAimText = $("#testAim .w-e-text p").html();

        if ($testAimText == "<br>") {
           alert('实验目的不能为空');
           return false;
        }
        else {
            $('#aim').val($testAimText);
            return true;
        }
    }

    $(document).ready(function(){
            $(".w-e-text").attr('tabindex',0);
            $(".w-e-text").attr('hidefocus','true');
            $(".w-e-text").css('outline',0);
        });
    function checkEnvironment() {
        $testEnvironmentText = $("#testEnvironment .w-e-text p").html();

        if ($testEnvironmentText == "<br>") {
           alert('实验环境不能为空');
           return false;
        }
        else {
            $('#environment').val($testEnvironmentText);
            return true;
        }
    }

    

</script>